{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createElement, Component, useContext, useRef, useMemo, Fragment } from 'react';\nimport { bool, number } from 'prop-types';\nimport { u as useUtils } from './useUtils-e7fee764.js';\nimport clsx from 'clsx';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport IconButton from '@material-ui/core/IconButton';\nimport { V as VIEW_HEIGHT, W as WrapperVariantContext } from './WrapperVariantContext-a1e3a213.js';\nimport { u as useGlobalKeyDown, k as keycode } from './useKeyDown-fc9e6e07.js';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\n\nvar ClockPointer = /*#__PURE__*/function (_React$Component) {\n  _inherits(ClockPointer, _React$Component);\n\n  function ClockPointer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ClockPointer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ClockPointer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      toAnimateTransform: false,\n      previousType: undefined\n    };\n\n    _this.getAngleStyle = function () {\n      var _this$props = _this.props,\n          value = _this$props.value,\n          isInner = _this$props.isInner,\n          type = _this$props.type;\n      var max = type === 'hours' ? 12 : 60;\n      var angle = 360 / max * value;\n\n      if (type === 'hours' && value > 12) {\n        angle -= 360; // round up angle to max 360 degrees\n      }\n\n      return {\n        height: isInner ? '26%' : '40%',\n        transform: \"rotateZ(\".concat(angle, \"deg)\")\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(ClockPointer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          hasSelected = _this$props2.hasSelected,\n          isInner = _this$props2.isInner,\n          type = _this$props2.type,\n          other = _objectWithoutProperties(_this$props2, [\"classes\", \"hasSelected\", \"isInner\", \"type\"]);\n\n      return createElement(\"div\", _extends({}, other, {\n        style: this.getAngleStyle(),\n        className: clsx(classes.pointer, this.state.toAnimateTransform && classes.animateTransform)\n      }), createElement(\"div\", {\n        className: clsx(classes.thumb, hasSelected && classes.noPoint)\n      }));\n    }\n  }]);\n\n  return ClockPointer;\n}(Component);\n\nClockPointer.getDerivedStateFromProps = function (nextProps, state) {\n  if (nextProps.type !== state.previousType) {\n    return {\n      toAnimateTransform: true,\n      previousType: nextProps.type\n    };\n  }\n\n  return {\n    toAnimateTransform: false,\n    previousType: nextProps.type\n  };\n};\n\nvar styles = function styles(theme) {\n  return createStyles({\n    pointer: {\n      width: 2,\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      left: 'calc(50% - 1px)',\n      bottom: '50%',\n      transformOrigin: 'center bottom 0px'\n    },\n    animateTransform: {\n      transition: theme.transitions.create(['transform', 'height'])\n    },\n    thumb: {\n      width: 4,\n      height: 4,\n      backgroundColor: theme.palette.primary.contrastText,\n      borderRadius: '100%',\n      position: 'absolute',\n      top: -21,\n      left: -15,\n      border: \"14px solid \".concat(theme.palette.primary.main),\n      boxSizing: 'content-box'\n    },\n    noPoint: {\n      backgroundColor: theme.palette.primary.main\n    }\n  });\n};\n\nvar ClockPointer$1 = withStyles(styles, {\n  name: 'MuiPickersClockPointer'\n})(ClockPointer);\n\nvar getMeridiem = function getMeridiem(date, utils) {\n  return utils.getHours(date) >= 12 ? 'pm' : 'am';\n};\n\nvar convertValueToMeridiem = function convertValueToMeridiem(value, meridiem, ampm) {\n  if (ampm) {\n    var currentMeridiem = value >= 12 ? 'pm' : 'am';\n\n    if (currentMeridiem !== meridiem) {\n      return meridiem === 'am' ? value - 12 : value + 12;\n    }\n  }\n\n  return value;\n};\n\nvar convertToMeridiem = function convertToMeridiem(time, meridiem, ampm, utils) {\n  var newHoursAmount = convertValueToMeridiem(utils.getHours(time), meridiem, ampm);\n  return utils.setHours(time, newHoursAmount);\n};\n\nvar clockCenter = {\n  x: 260 / 2,\n  y: 260 / 2\n};\nvar baseClockPoint = {\n  x: clockCenter.x,\n  y: 0\n};\nvar cx = baseClockPoint.x - clockCenter.x;\nvar cy = baseClockPoint.y - clockCenter.y;\n\nvar rad2deg = function rad2deg(rad) {\n  return rad * 57.29577951308232;\n};\n\nvar getAngleValue = function getAngleValue(step, offsetX, offsetY) {\n  var x = offsetX - clockCenter.x;\n  var y = offsetY - clockCenter.y;\n  var atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n  var deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n  var value = Math.floor(deg / step) || 0;\n  var delta = Math.pow(x, 2) + Math.pow(y, 2);\n  var distance = Math.sqrt(delta);\n  return {\n    value: value,\n    distance: distance\n  };\n};\n\nvar getMinutes = function getMinutes(offsetX, offsetY) {\n  var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var angleStep = step * 6;\n\n  var _getAngleValue = getAngleValue(angleStep, offsetX, offsetY),\n      value = _getAngleValue.value;\n\n  value = value * step % 60;\n  return value;\n};\n\nvar getHours = function getHours(offsetX, offsetY, ampm) {\n  var _getAngleValue2 = getAngleValue(30, offsetX, offsetY),\n      value = _getAngleValue2.value,\n      distance = _getAngleValue2.distance;\n\n  value = value || 12;\n\n  if (!ampm) {\n    if (distance < 90) {\n      value += 12;\n      value %= 24;\n    }\n  } else {\n    value %= 12;\n  }\n\n  return value;\n};\n\nfunction getSecondsInDay(date, utils) {\n  return utils.getHours(date) * 3600 + utils.getMinutes(date) * 60 + utils.getSeconds(date);\n}\n\nvar createIsAfterIgnoreDatePart = function createIsAfterIgnoreDatePart(utils) {\n  return function (dateLeft, dateRight) {\n    return getSecondsInDay(dateLeft, utils) > getSecondsInDay(dateRight, utils);\n  };\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      position: 'relative',\n      minHeight: VIEW_HEIGHT,\n      alignItems: 'center'\n    },\n    clock: {\n      backgroundColor: 'rgba(0,0,0,.07)',\n      borderRadius: '50%',\n      height: 260,\n      width: 260,\n      position: 'relative',\n      pointerEvents: 'none'\n    },\n    squareMask: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'auto',\n      outline: 'none',\n      touchActions: 'none',\n      userSelect: 'none',\n      '&:active': {\n        cursor: 'move'\n      }\n    },\n    pin: {\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)'\n    },\n    amButton: {\n      zIndex: 1,\n      left: 8,\n      position: 'absolute',\n      bottom: 8\n    },\n    pmButton: {\n      zIndex: 1,\n      position: 'absolute',\n      bottom: 8,\n      right: 8\n    },\n    meridiemButtonSelected: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.light\n      }\n    }\n  };\n}, {\n  name: 'MuiPickersClock'\n});\n\nvar Clock = function Clock(_ref) {\n  var _useGlobalKeyDown;\n\n  var date = _ref.date,\n      _ref$ampmInClock = _ref.ampmInClock,\n      ampmInClock = _ref$ampmInClock === void 0 ? false : _ref$ampmInClock,\n      value = _ref.value,\n      numbersElementsArray = _ref.children,\n      type = _ref.type,\n      ampm = _ref.ampm,\n      isTimeDisabled = _ref.isTimeDisabled,\n      _ref$minutesStep = _ref.minutesStep,\n      minutesStep = _ref$minutesStep === void 0 ? 1 : _ref$minutesStep,\n      allowKeyboardControl = _ref.allowKeyboardControl,\n      onChange = _ref.onChange,\n      meridiemMode = _ref.meridiemMode,\n      handleMeridiemChange = _ref.handleMeridiemChange;\n  var utils = useUtils();\n  var classes = useStyles();\n  var wrapperVariant = useContext(WrapperVariantContext);\n  var isMoving = useRef(false);\n  var isSelectedTimeDisabled = isTimeDisabled(value, type);\n  var isPointerInner = !ampm && type === 'hours' && (value < 1 || value > 12);\n\n  var handleValueChange = function handleValueChange(newValue, isFinish) {\n    if (isTimeDisabled(newValue, type)) {\n      return;\n    }\n\n    onChange(newValue, isFinish);\n  };\n\n  var setTime = function setTime(e) {\n    var isFinish = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var offsetX = e.offsetX,\n        offsetY = e.offsetY;\n\n    if (typeof offsetX === 'undefined') {\n      var rect = e.target.getBoundingClientRect();\n      offsetX = e.changedTouches[0].clientX - rect.left;\n      offsetY = e.changedTouches[0].clientY - rect.top;\n    }\n\n    var value = type === 'seconds' || type === 'minutes' ? getMinutes(offsetX, offsetY, minutesStep) : getHours(offsetX, offsetY, Boolean(ampm));\n    handleValueChange(value, isFinish);\n  };\n\n  var handleTouchMove = function handleTouchMove(e) {\n    isMoving.current = true;\n    setTime(e);\n  };\n\n  var handleTouchEnd = function handleTouchEnd(e) {\n    if (isMoving.current) {\n      setTime(e, true);\n      isMoving.current = false;\n    }\n  };\n\n  var handleMouseMove = function handleMouseMove(e) {\n    e.preventDefault();\n    e.stopPropagation(); // MouseEvent.which is deprecated, but MouseEvent.buttons is not supported in Safari\n\n    var isButtonPressed = typeof e.buttons === 'undefined' ? e.nativeEvent.which === 1 : e.buttons === 1;\n\n    if (isButtonPressed) {\n      setTime(e.nativeEvent, false);\n    }\n  };\n\n  var handleMouseUp = function handleMouseUp(e) {\n    if (isMoving.current) {\n      isMoving.current = false;\n    }\n\n    setTime(e.nativeEvent, true);\n  };\n\n  var hasSelected = useMemo(function () {\n    if (type === 'hours') {\n      return true;\n    }\n\n    return value % 5 === 0;\n  }, [type, value]);\n  var keyboardControlStep = type === 'minutes' ? minutesStep : 1;\n  useGlobalKeyDown(Boolean(allowKeyboardControl !== null && allowKeyboardControl !== void 0 ? allowKeyboardControl : wrapperVariant !== 'static') && !isMoving.current, (_useGlobalKeyDown = {}, _defineProperty(_useGlobalKeyDown, keycode.Home, function () {\n    return handleValueChange(0, false);\n  }), _defineProperty(_useGlobalKeyDown, keycode.End, function () {\n    return handleValueChange(type === 'minutes' ? 59 : 23, false);\n  }), _defineProperty(_useGlobalKeyDown, keycode.ArrowUp, function () {\n    return handleValueChange(value + keyboardControlStep, false);\n  }), _defineProperty(_useGlobalKeyDown, keycode.ArrowDown, function () {\n    return handleValueChange(value - keyboardControlStep, false);\n  }), _useGlobalKeyDown));\n  return createElement(\"div\", {\n    className: classes.container\n  }, createElement(\"div\", {\n    className: classes.clock\n  }, createElement(\"div\", {\n    role: \"menu\",\n    tabIndex: -1,\n    className: classes.squareMask,\n    onTouchMove: handleTouchMove,\n    onTouchEnd: handleTouchEnd,\n    onMouseUp: handleMouseUp,\n    onMouseMove: handleMouseMove\n  }), !isSelectedTimeDisabled && createElement(Fragment, null, createElement(\"div\", {\n    className: classes.pin\n  }), createElement(ClockPointer$1, {\n    type: type,\n    value: value,\n    isInner: isPointerInner,\n    hasSelected: hasSelected,\n    \"aria-live\": \"polite\",\n    \"aria-label\": \"Selected time \".concat(utils.format(date, 'fullTime'))\n  })), numbersElementsArray), ampm && (wrapperVariant === 'desktop' || ampmInClock) && createElement(Fragment, null, createElement(IconButton, {\n    \"data-mui-test\": \"in-clock-am-btn\",\n    onClick: function onClick() {\n      return handleMeridiemChange('am');\n    },\n    className: clsx(classes.amButton, meridiemMode === 'am' && classes.meridiemButtonSelected)\n  }, createElement(Typography, {\n    variant: \"caption\"\n  }, \"AM\")), createElement(IconButton, {\n    \"data-mui-test\": \"in-clock-pm-btn\",\n    onClick: function onClick() {\n      return handleMeridiemChange('pm');\n    },\n    className: clsx(classes.pmButton, meridiemMode === 'pm' && classes.meridiemButtonSelected)\n  }, createElement(Typography, {\n    variant: \"caption\"\n  }, \"PM\"))));\n};\n\nClock.defaultProps = {\n  ampm: bool,\n  minutesStep: number\n};\nClock.displayName = 'Clock';\nexport { Clock as C, createIsAfterIgnoreDatePart as a, convertValueToMeridiem as b, convertToMeridiem as c, Clock as d, getMeridiem as g, useStyles as u };","map":{"version":3,"sources":["../src/views/Clock/ClockPointer.tsx","../src/_helpers/time-utils.ts","../src/views/Clock/Clock.tsx"],"names":["ClockPointer","getDerivedStateFromProps","nextProps","state","toAnimateTransform","previousType","type","undefined","value","isInner","max","angle","height","transform","classes","hasSelected","other","clsx","React.createElement","styles","createStyles","pointer","width","backgroundColor","theme","position","left","bottom","transformOrigin","animateTransform","transition","thumb","borderRadius","top","border","boxSizing","noPoint","main","name","getMeridiem","utils","convertValueToMeridiem","currentMeridiem","meridiem","convertToMeridiem","newHoursAmount","clockCenter","x","y","baseClockPoint","cx","cy","rad2deg","rad","getAngleValue","offsetX","offsetY","atan","Math","deg","delta","distance","getMinutes","step","angleStep","getHours","createIsAfterIgnoreDatePart","getSecondsInDay","useStyles","makeStyles","container","display","justifyContent","minHeight","alignItems","clock","pointerEvents","squareMask","outline","touchActions","userSelect","cursor","pin","amButton","zIndex","pmButton","right","meridiemButtonSelected","color","light","Clock","date","ampmInClock","children","numbersElementsArray","ampm","isTimeDisabled","minutesStep","allowKeyboardControl","onChange","meridiemMode","handleMeridiemChange","useUtils","wrapperVariant","React","isMoving","isSelectedTimeDisabled","isPointerInner","handleValueChange","setTime","isFinish","e","rect","Boolean","handleTouchMove","handleTouchEnd","handleMouseMove","isButtonPressed","handleMouseUp","keyboardControlStep","useGlobalKeyDown","keycode","PropTypes"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\nimport { withStyles, createStyles, Theme, WithStyles } from '@material-ui/core/styles';\nimport { ClockViewType } from '../../constants/ClockType';\n\nexport interface ClockPointerProps\n  extends React.HTMLProps<HTMLDivElement>,\n    WithStyles<typeof styles> {\n  value: number;\n  hasSelected: boolean;\n  isInner: boolean;\n  type: ClockViewType;\n}\n\nexport class ClockPointer extends React.Component<ClockPointerProps> {\n  public static getDerivedStateFromProps = (\n    nextProps: ClockPointerProps,\n    state: ClockPointer['state']\n  ) => {\n    if (nextProps.type !== state.previousType) {\n      return {\n        toAnimateTransform: true,\n        previousType: nextProps.type,\n      };\n    }\n\n    return {\n      toAnimateTransform: false,\n      previousType: nextProps.type,\n    };\n  };\n\n  public state = {\n    toAnimateTransform: false,\n    previousType: undefined,\n  };\n\n  public getAngleStyle = () => {\n    const { value, isInner, type } = this.props;\n\n    const max = type === 'hours' ? 12 : 60;\n    let angle = (360 / max) * value;\n\n    if (type === 'hours' && value > 12) {\n      angle -= 360; // round up angle to max 360 degrees\n    }\n\n    return {\n      height: isInner ? '26%' : '40%',\n      transform: `rotateZ(${angle}deg)`,\n    };\n  };\n\n  public render() {\n    const { classes, hasSelected, isInner, type, ...other } = this.props;\n\n    return (\n      <div\n        {...other}\n        style={this.getAngleStyle()}\n        className={clsx(classes.pointer, {\n          [classes.animateTransform]: this.state.toAnimateTransform,\n        })}\n      >\n        <div\n          className={clsx(classes.thumb, {\n            [classes.noPoint]: hasSelected,\n          })}\n        />\n      </div>\n    );\n  }\n}\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    pointer: {\n      width: 2,\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      left: 'calc(50% - 1px)',\n      bottom: '50%',\n      transformOrigin: 'center bottom 0px',\n    },\n    animateTransform: {\n      transition: theme.transitions.create(['transform', 'height']),\n    },\n    thumb: {\n      width: 4,\n      height: 4,\n      backgroundColor: theme.palette.primary.contrastText,\n      borderRadius: '100%',\n      position: 'absolute',\n      top: -21,\n      left: -15,\n      border: `14px solid ${theme.palette.primary.main}`,\n      boxSizing: 'content-box',\n    },\n    noPoint: {\n      backgroundColor: theme.palette.primary.main,\n    },\n  });\n\nexport default withStyles(styles, {\n  name: 'MuiPickersClockPointer',\n})(ClockPointer as React.ComponentType<ClockPointerProps>);\n","import { IUtils } from '@date-io/core/IUtils';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { MuiPickersAdapter } from '../_shared/hooks/useUtils';\n\nexport const getMeridiem = (\n  date: MaterialUiPickersDate,\n  utils: IUtils<MaterialUiPickersDate>\n): 'am' | 'pm' => {\n  return utils.getHours(date) >= 12 ? 'pm' : 'am';\n};\n\nexport const convertValueToMeridiem = (value: number, meridiem: 'am' | 'pm', ampm: boolean) => {\n  if (ampm) {\n    const currentMeridiem = value >= 12 ? 'pm' : 'am';\n    if (currentMeridiem !== meridiem) {\n      return meridiem === 'am' ? value - 12 : value + 12;\n    }\n  }\n\n  return value;\n};\n\nexport const convertToMeridiem = (\n  time: MaterialUiPickersDate,\n  meridiem: 'am' | 'pm',\n  ampm: boolean,\n  utils: IUtils<MaterialUiPickersDate>\n) => {\n  const newHoursAmount = convertValueToMeridiem(utils.getHours(time), meridiem, ampm);\n  return utils.setHours(time, newHoursAmount);\n};\n\nconst clockCenter = {\n  x: 260 / 2,\n  y: 260 / 2,\n};\n\nconst baseClockPoint = {\n  x: clockCenter.x,\n  y: 0,\n};\n\nconst cx = baseClockPoint.x - clockCenter.x;\nconst cy = baseClockPoint.y - clockCenter.y;\n\nconst rad2deg = (rad: number) => rad * 57.29577951308232;\n\nconst getAngleValue = (step: number, offsetX: number, offsetY: number) => {\n  const x = offsetX - clockCenter.x;\n  const y = offsetY - clockCenter.y;\n\n  const atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n\n  let deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n\n  const value = Math.floor(deg / step) || 0;\n  const delta = Math.pow(x, 2) + Math.pow(y, 2);\n  const distance = Math.sqrt(delta);\n\n  return { value, distance };\n};\n\nexport const getMinutes = (offsetX: number, offsetY: number, step = 1) => {\n  const angleStep = step * 6;\n  let { value } = getAngleValue(angleStep, offsetX, offsetY);\n  value = (value * step) % 60;\n\n  return value;\n};\n\nexport const getHours = (offsetX: number, offsetY: number, ampm: boolean) => {\n  let { value, distance } = getAngleValue(30, offsetX, offsetY);\n  value = value || 12;\n\n  if (!ampm) {\n    if (distance < 90) {\n      value += 12;\n      value %= 24;\n    }\n  } else {\n    value %= 12;\n  }\n\n  return value;\n};\n\nexport function getSecondsInDay(date: MaterialUiPickersDate, utils: MuiPickersAdapter) {\n  return utils.getHours(date) * 3600 + utils.getMinutes(date) * 60 + utils.getSeconds(date);\n}\n\nexport const createIsAfterIgnoreDatePart = (utils: MuiPickersAdapter) => (\n  dateLeft: MaterialUiPickersDate,\n  dateRight: MaterialUiPickersDate\n) => {\n  return getSecondsInDay(dateLeft, utils) > getSecondsInDay(dateRight, utils);\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClockPointer from './ClockPointer';\nimport { useUtils } from '../../_shared/hooks/useUtils';\nimport { VIEW_HEIGHT } from '../../constants/dimensions';\nimport { ClockViewType } from '../../constants/ClockType';\nimport { MaterialUiPickersDate } from '../../typings/date';\nimport { PickerOnChangeFn } from '../../_shared/hooks/useViews';\nimport { getHours, getMinutes } from '../../_helpers/time-utils';\nimport { useMeridiemMode } from '../../TimePicker/TimePickerToolbar';\nimport { useGlobalKeyDown, keycode } from '../../_shared/hooks/useKeyDown';\nimport { WrapperVariantContext } from '../../wrappers/WrapperVariantContext';\n\nexport interface ClockProps extends ReturnType<typeof useMeridiemMode> {\n  date: MaterialUiPickersDate;\n  type: ClockViewType;\n  value: number;\n  isTimeDisabled: (timeValue: number, type: ClockViewType) => boolean;\n  children: React.ReactElement<any>[];\n  onDateChange: PickerOnChangeFn;\n  onChange: (value: number, isFinish?: boolean | symbol) => void;\n  ampm?: boolean;\n  minutesStep?: number;\n  ampmInClock?: boolean;\n  allowKeyboardControl?: boolean;\n}\n\nexport const useStyles = makeStyles(\n  theme => ({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      position: 'relative',\n      minHeight: VIEW_HEIGHT,\n      alignItems: 'center',\n    },\n    clock: {\n      backgroundColor: 'rgba(0,0,0,.07)',\n      borderRadius: '50%',\n      height: 260,\n      width: 260,\n      position: 'relative',\n      pointerEvents: 'none',\n    },\n    squareMask: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'auto',\n      outline: 'none',\n      touchActions: 'none',\n      userSelect: 'none',\n      '&:active': {\n        cursor: 'move',\n      },\n    },\n    pin: {\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n    },\n    amButton: {\n      zIndex: 1,\n      left: 8,\n      position: 'absolute',\n      bottom: 8,\n    },\n    pmButton: {\n      zIndex: 1,\n      position: 'absolute',\n      bottom: 8,\n      right: 8,\n    },\n    meridiemButtonSelected: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.light,\n      },\n    },\n  }),\n  {\n    name: 'MuiPickersClock',\n  }\n);\n\nexport const Clock: React.FC<ClockProps> = ({\n  date,\n  ampmInClock = false,\n  value,\n  children: numbersElementsArray,\n  type,\n  ampm,\n  isTimeDisabled,\n  minutesStep = 1,\n  allowKeyboardControl,\n  onChange,\n  meridiemMode,\n  handleMeridiemChange,\n}) => {\n  const utils = useUtils();\n  const classes = useStyles();\n  const wrapperVariant = React.useContext(WrapperVariantContext);\n  const isMoving = React.useRef(false);\n\n  const isSelectedTimeDisabled = isTimeDisabled(value, type);\n  const isPointerInner = !ampm && type === 'hours' && (value < 1 || value > 12);\n\n  const handleValueChange = (newValue: number, isFinish: boolean) => {\n    if (isTimeDisabled(newValue, type)) {\n      return;\n    }\n\n    onChange(newValue, isFinish);\n  };\n\n  const setTime = (e: any, isFinish = false) => {\n    let { offsetX, offsetY } = e;\n\n    if (typeof offsetX === 'undefined') {\n      const rect = e.target.getBoundingClientRect();\n\n      offsetX = e.changedTouches[0].clientX - rect.left;\n      offsetY = e.changedTouches[0].clientY - rect.top;\n    }\n\n    const value =\n      type === 'seconds' || type === 'minutes'\n        ? getMinutes(offsetX, offsetY, minutesStep)\n        : getHours(offsetX, offsetY, Boolean(ampm));\n\n    handleValueChange(value, isFinish);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    isMoving.current = true;\n    setTime(e);\n  };\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    if (isMoving.current) {\n      setTime(e, true);\n      isMoving.current = false;\n    }\n  };\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    // MouseEvent.which is deprecated, but MouseEvent.buttons is not supported in Safari\n    const isButtonPressed =\n      typeof e.buttons === 'undefined' ? e.nativeEvent.which === 1 : e.buttons === 1;\n\n    if (isButtonPressed) {\n      setTime(e.nativeEvent, false);\n    }\n  };\n\n  const handleMouseUp = (e: React.MouseEvent) => {\n    if (isMoving.current) {\n      isMoving.current = false;\n    }\n\n    setTime(e.nativeEvent, true);\n  };\n\n  const hasSelected = React.useMemo(() => {\n    if (type === 'hours') {\n      return true;\n    }\n\n    return value % 5 === 0;\n  }, [type, value]);\n\n  const keyboardControlStep = type === 'minutes' ? minutesStep : 1;\n  useGlobalKeyDown(\n    Boolean(allowKeyboardControl ?? wrapperVariant !== 'static') && !isMoving.current,\n    {\n      [keycode.Home]: () => handleValueChange(0, false), // annulate both hours and minutes\n      [keycode.End]: () => handleValueChange(type === 'minutes' ? 59 : 23, false),\n      [keycode.ArrowUp]: () => handleValueChange(value + keyboardControlStep, false),\n      [keycode.ArrowDown]: () => handleValueChange(value - keyboardControlStep, false),\n    }\n  );\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.clock}>\n        <div\n          role=\"menu\"\n          tabIndex={-1}\n          className={classes.squareMask}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n          onMouseUp={handleMouseUp}\n          onMouseMove={handleMouseMove}\n        />\n\n        {!isSelectedTimeDisabled && (\n          <>\n            <div className={classes.pin} />\n\n            <ClockPointer\n              type={type}\n              value={value}\n              isInner={isPointerInner}\n              hasSelected={hasSelected}\n              aria-live=\"polite\"\n              aria-label={`Selected time ${utils.format(date, 'fullTime')}`}\n            />\n          </>\n        )}\n\n        {numbersElementsArray}\n      </div>\n\n      {ampm && (wrapperVariant === 'desktop' || ampmInClock) && (\n        <>\n          <IconButton\n            data-mui-test=\"in-clock-am-btn\"\n            onClick={() => handleMeridiemChange('am')}\n            className={clsx(classes.amButton, {\n              [classes.meridiemButtonSelected]: meridiemMode === 'am',\n            })}\n          >\n            <Typography variant=\"caption\">AM</Typography>\n          </IconButton>\n          <IconButton\n            data-mui-test=\"in-clock-pm-btn\"\n            onClick={() => handleMeridiemChange('pm')}\n            className={clsx(classes.pmButton, {\n              [classes.meridiemButtonSelected]: meridiemMode === 'pm',\n            })}\n          >\n            <Typography variant=\"caption\">PM</Typography>\n          </IconButton>\n        </>\n      )}\n    </div>\n  );\n};\n\nClock.defaultProps = {\n  ampm: PropTypes.bool,\n  minutesStep: PropTypes.number,\n} as any;\n\nClock.displayName = 'Clock';\n\nexport default Clock;\n"]},"metadata":{},"sourceType":"module"}