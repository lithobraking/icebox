{"ast":null,"code":"import { useRef, useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicEffect = typeof window === 'undefined' ? useEffect : useLayoutEffect;\n\nfunction runKeyHandler(event, keyHandlers) {\n  var handler = keyHandlers[event.keyCode];\n\n  if (handler) {\n    handler(); // if event was handled prevent other side effects (e.g. page scroll)\n\n    event.preventDefault();\n  }\n}\n\nfunction useGlobalKeyDown(active, keyHandlers) {\n  var keyHandlersRef = useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n  useIsomorphicEffect(function () {\n    if (active) {\n      var handleKeyDown = function handleKeyDown(event) {\n        runKeyHandler(event, keyHandlersRef.current);\n      };\n\n      window.addEventListener('keydown', handleKeyDown);\n      return function () {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n\n    return undefined;\n  }, [active]);\n}\n\nvar keycode = {\n  ArrowUp: 38,\n  ArrowDown: 40,\n  ArrowLeft: 37,\n  ArrowRight: 39,\n  Enter: 13,\n  Home: 36,\n  End: 35,\n  PageUp: 33,\n  PageDown: 34,\n  Esc: 27\n};\nexport { useIsomorphicEffect as a, keycode as k, useGlobalKeyDown as u };","map":{"version":3,"sources":["../src/_shared/hooks/useKeyDown.ts"],"names":["useIsomorphicEffect","React","handler","keyHandlers","event","keyHandlersRef","handleKeyDown","runKeyHandler","window","keycode","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Home","End","PageUp","PageDown","Esc"],"mappings":";IAEaA,mBAAmB,GAC9B,OAAA,MAAA,KAAA,WAAA,GAAA,SAAA,GAAkDC,e;;AAI7C,SAAA,aAAA,CAAA,KAAA,EAAA,WAAA,EAGL;AACA,MAAMC,OAAO,GAAGC,WAAW,CAACC,KAAK,CAAjC,OAA2B,CAA3B;;AACA,MAAA,OAAA,EAAa;AACXF,IAAAA,OADW,GAAA,CAAA;;AAGXE,IAAAA,KAAK,CAALA,cAAAA;AACD;AACF;;AAgBM,SAAA,gBAAA,CAAA,MAAA,EAAA,WAAA,EAAqE;AAC1E,MAAMC,cAAc,GAAGJ,MAAAA,CAAvB,WAAuBA,CAAvB;AACAI,EAAAA,cAAc,CAAdA,OAAAA,GAAAA,WAAAA;AAEAL,EAAAA,mBAAmB,CAAC,YAAM;AACxB,QAAA,MAAA,EAAY;AACV,UAAMM,aAAa,GAAG,SAAhBA,aAAgB,CAAA,KAAA,EAA0B;AAC9CC,QAAAA,aAAa,CAAA,KAAA,EAAQF,cAAc,CAAnCE,OAAa,CAAbA;AADF,OAAA;;AAGAC,MAAAA,MAAM,CAANA,gBAAAA,CAAAA,SAAAA,EAAAA,aAAAA;AACA,aAAO,YAAM;AACXA,QAAAA,MAAM,CAANA,mBAAAA,CAAAA,SAAAA,EAAAA,aAAAA;AADF,OAAA;AAGD;;AAED,WAAA,SAAA;AAXiB,GAAA,EAYhB,CAZHR,MAYG,CAZgB,CAAnBA;AAaD;;IAEYS,OAAO,GAAG;AACrBC,EAAAA,OAAO,EADc,EAAA;AAErBC,EAAAA,SAAS,EAFY,EAAA;AAGrBC,EAAAA,SAAS,EAHY,EAAA;AAIrBC,EAAAA,UAAU,EAJW,EAAA;AAKrBC,EAAAA,KAAK,EALgB,EAAA;AAMrBC,EAAAA,IAAI,EANiB,EAAA;AAOrBC,EAAAA,GAAG,EAPkB,EAAA;AAQrBC,EAAAA,MAAM,EARe,EAAA;AASrBC,EAAAA,QAAQ,EATa,EAAA;AAUrBC,EAAAA,GAAG,EAAE;AAVgB,C","sourcesContent":["import * as React from 'react';\n\nexport const useIsomorphicEffect =\n  typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\ntype KeyHandlers = Record<number, () => void>;\n\nexport function runKeyHandler(\n  event: KeyboardEvent | React.KeyboardEvent,\n  keyHandlers: KeyHandlers\n) {\n  const handler = keyHandlers[event.keyCode];\n  if (handler) {\n    handler();\n    // if event was handled prevent other side effects (e.g. page scroll)\n    event.preventDefault();\n  }\n}\n\nexport function useKeyDownHandler(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  return React.useCallback(\n    (event: React.KeyboardEvent) => {\n      if (active) {\n        runKeyHandler(event, keyHandlersRef.current);\n      }\n    },\n    [active]\n  );\n}\n\nexport function useGlobalKeyDown(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  useIsomorphicEffect(() => {\n    if (active) {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        runKeyHandler(event, keyHandlersRef.current);\n      };\n      window.addEventListener('keydown', handleKeyDown);\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n\n    return undefined;\n  }, [active]);\n}\n\nexport const keycode = {\n  ArrowUp: 38,\n  ArrowDown: 40,\n  ArrowLeft: 37,\n  ArrowRight: 39,\n  Enter: 13,\n  Home: 36,\n  End: 35,\n  PageUp: 33,\n  PageDown: 34,\n  Esc: 27,\n};\n"]},"metadata":{},"sourceType":"module"}